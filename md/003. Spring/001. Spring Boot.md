## 001. Простой запуск через CommandLineRunner


Реализовать интерфейс `CommandLineRunner` в любом бине.
```kt
@SpringBootApplication
class DemoApplication: CommandLineRunner {
    override fun run(vararg args: String?) {
        println("Hello, world!")
    }
}

fun main(args: Array<String>) {
    runApplication<DemoApplication>(*args)
}
```


[id](003.001.001)


## 002. Значение аннотации @Value. К чему можно применить. Откуда можно получать значения


Позволяет внедрить значение в:
* поле бина
* параметр конструктора
* отдельный параметр метода
* все параметры метода (если установлен над методом)
* аннотации

Внутри аннотации можно указывать:
* простое значение (литерал)
* свойства (разные источники: файлы, переменные окружения и т. п.)
* выражение SpEL `@Value("#{500 * 2}")`
* значения полей других бинов `@Value("#{someBean.someField}")`

Пример:
```kt
@Value("John")
val name: String = ""
@Value("\\${goodbye}") // задано в файле application.properties
val bye: String = ""

override fun run(vararg args: String?) {
    println("Hello, $name!")
    println(bye)
}
```
Значения, начинающиеся с **\$** - свойства, с **#** - выражения SpEL


[id](003.001.002)


## 003. Что такое Environment. Для чего используется. Как получить доступ.


**Environment** - это спринговый интерфейс `org.springframework.core.env.Environment`.

Основные задачи: 
* работа с профилями (какие активны сейчас, какие активны по умолчанию)
* работа со свойствами из разных источников (системные переменные, файлы свойств и много другого)

Получить доступ: 

1) через `@Autowired` (предпочтительнее конструктор)
```kt
@Autowired
lateinit var env: Environment
```

2) из контекста (например **ApplicationContext**) через метод `getEnvironment()`

Пример получения свойства:
```kt
val prop = env.getProperty("foo")
```


[id](003.001.003)


## 004. Разница между системными свойствами JVM и переменными окружения. Как установить. Отличие в работе со свойствами через Environment и System.getProperty() / setProperty()


* Установка:
    - свойства: при запуске JVM процесса или в процессе работы
    - переменные: вне процесса, до запуска
* Доступ:
    - свойства: только тому процессу, в котором установлены
    - переменные: любому процессу в ОС
    
Установка свойств:

* при запуске из командной строки `java ... -Dfoo=bar`
* в процессе работы `System.setProperty("foo", "bar")`

Получение:

* свойства: `System.getProperty()`
* переменные: `System.getenv()`

Спринговый **Environment** унифицирует доступ к свойствам и переменным через **get...** + добавляет новые источники свойств.


[id](003.001.004)